applications:
  - name: daemawiki-prod
    tier: x3.nano
    github:
      owner: daemawiki
      repo: Claude
      branch: main
      installationId: "64110837"
      hash: c0a0faaf3fc199e9518104cfa3cb8075a4111aaf
    build:
      gradle:
        javaVersion: 21
        distPath: /build/libs/*.jar
        buildCommand: ./gradlew bootJar -x test --build-cache
    endpoints:
      - port: 8080
        routes:
          - daemawiki.dsmhs.kr
  - name: daemawiki-stag
    tier: x3.nano
    github:
      owner: daemawiki
      repo: Claude
      branch: develop
      installationId: "64110837"
      hash: ded624911c6090a02cf815221485979a326a19f4
    build:
      gradle:
        javaVersion: 21
        distPath: /build/libs/*.jar
        buildCommand: ./gradlew bootJar -x test --build-cache
    endpoints:
      - port: 8080
        routes:
          - daemawiki-stag.dsmhs.kr
addons:
  - name: daemawiki-redis
    type: redis
    tier: x3.micro
    storage: 1Gi
