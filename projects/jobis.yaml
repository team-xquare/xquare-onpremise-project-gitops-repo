applications:
  - name: be-prod
    github:
      owner: Team-return
      repo: JOBIS-DSM-BE
      branch: main
      installationId: "82814703"
      hash: 1a7dd5e94dc4278d5ce06bbc83aba2c9b280eb5d
      triggerPaths:
        - jobis-application/**
        - jobis-infrastructure/**
        - build.gradle
        - settings.gradle
        - gradle/**
        - gradlew
        - gradlew.bat
    build:
      gradle:
        javaVersion: "17"
        jarOutputPath: /jobis-infrastructure/build/libs/*.jar
        buildCommand: "./gradlew :jobis-infrastructure:bootJar"
    endpoints:
      - port: 8080
        routes:
          - jobis-api.dsmhs.kr
  - name: be-stag
    github:
      owner: Team-return
      repo: JOBIS-DSM-BE
      branch: develop
      installationId: "82814703"
      hash: f4ce82a80ce67abe8b6d536e8f5d1fd21994116a
      triggerPaths:
        - jobis-application/**
        - jobis-infrastructure/**
        - build.gradle
        - settings.gradle
        - gradle/**
        - gradlew
        - gradlew.bat
    build:
      gradle:
        javaVersion: "17"
        jarOutputPath: /jobis-infrastructure/build/libs/*.jar
        buildCommand: "./gradlew :jobis-infrastructure:bootJar"
    endpoints:
      - port: 8080
        routes:
          - jobis-api-stag.dsmhs.kr
  - name: fe-admin-prod
    github:
      owner: Team-return
      repo: JOBIS-FE-V2
      branch: main
      installationId: "82814703"
      hash: a9d7cef7e2cbb78783e58eaa6b00b5096103c8de
      triggerPaths:
        - apps/admin/**
        - packages/**
        - package.json
        - yarn.lock
        - nx.json
        - tsconfig.base.json
    build:
      vite:
        nodeVersion: "23.11.0"
        distPath: /apps/admin/dist
        buildCommand: "yarn install && yarn nx build admin"
    endpoints:
      - port: 8080
        routes:
          - jobis-admin.dsmhs.kr
  - name: fe-admin-stag
    github:
      owner: Team-return
      repo: JOBIS-FE-V2
      branch: develop
      installationId: "82814703"
      hash: b635e90ab12c765039b329421e07a60c66bff8ef
      triggerPaths:
        - apps/admin/**
        - packages/**
        - package.json
        - yarn.lock
        - nx.json
        - tsconfig.base.json
    build:
      vite:
        nodeVersion: "23.11.0"
        distPath: /apps/admin/dist
        buildCommand: "yarn install && yarn nx build admin"
    endpoints:
      - port: 8080
        routes:
          - jobis-admin-stag.dsmhs.kr
  - name: fe-company-prod
    github:
      owner: Team-return
      repo: JOBIS-FE-V2
      branch: main
      installationId: "82814703"
      hash: a9d7cef7e2cbb78783e58eaa6b00b5096103c8de
      triggerPaths:
        - apps/company/**
        - packages/**
        - package.json
        - yarn.lock
        - nx.json
        - tsconfig.base.json
    build:
      vite:
        nodeVersion: "23.11.0"
        distPath: /apps/company/dist
        buildCommand: "yarn install && yarn nx build company"
    endpoints:
      - port: 8080
        routes:
          - jobis-company.dsmhs.kr
  - name: fe-company-stag
    github:
      owner: Team-return
      repo: JOBIS-FE-V2
      branch: develop
      installationId: "82814703"
      hash: b635e90ab12c765039b329421e07a60c66bff8ef
      triggerPaths:
        - apps/company/**
        - packages/**
        - package.json
        - yarn.lock
        - nx.json
        - tsconfig.base.json
    build:
      vite:
        nodeVersion: "23.11.0"
        distPath: /apps/company/dist
        buildCommand: "yarn install && yarn nx build company"
    endpoints:
      - port: 8080
        routes:
          - jobis-company-stag.dsmhs.kr
  - name: fe-student-prod
    github:
      owner: Team-return
      repo: JOBIS-FE-V2
      branch: main
      installationId: "82814703"
      hash: a9d7cef7e2cbb78783e58eaa6b00b5096103c8de
      triggerPaths:
        - apps/student/**
        - packages/**
        - package.json
        - yarn.lock
        - nx.json
        - tsconfig.base.json
    build:
      vite:
        nodeVersion: "23.11.0"
        distPath: /apps/student/dist
        buildCommand: "yarn install && yarn nx build student"
    endpoints:
      - port: 8080
        routes:
          - jobis.dsmhs.kr
  - name: fe-student-stag
    github:
      owner: Team-return
      repo: JOBIS-FE-V2
      branch: develop
      installationId: "82814703"
      hash: b635e90ab12c765039b329421e07a60c66bff8ef
      triggerPaths:
        - apps/student/**
        - packages/**
        - package.json
        - yarn.lock
        - nx.json
        - tsconfig.base.json
    build:
      vite:
        nodeVersion: "23.11.0"
        distPath: /apps/student/dist
        buildCommand: "yarn install && yarn nx build student"
    endpoints:
      - port: 8080
        routes:
          - jobis-stag.dsmhs.kr
  - name: v1-fe-student-stag
    github:
      owner: Team-return
      repo: JOBIS-DSM-STUDENT-FE
      branch: develop
      installationId: "82814703"
      hash: d93ea681f43fe70d5fc09f42158c969d32832e01
    build:
      nextjs-export:
        nodeVersion: "18.17.1"
        distPath: /out
        buildCommand: "yarn install && yarn build"
    endpoints:
      - port: 8080
        routes:
          - v1-jobis-stag.dsmhs.kr
  - name: v1-fe-admin-stag
    github:
      owner: Team-return
      repo: JOBIS-DSM-ADMIN-FE
      branch: develop
      installationId: "82814703"
      hash: c44f0519bad88e2192498989f37b6718c6ac3299
    build:
      react:
        nodeVersion: "18.17.1"
        distPath: /build
        buildCommand: "npm install && npm run build"
    endpoints:
      - port: 8080
        routes:
          - v1-jobis-admin-stag.dsmhs.kr
  - name: v1-fe-company-stag
    github:
      owner: Team-return
      repo: JOBIS-FE
      branch: develop
      installationId: "82814703"
    build:
      nextjs-export:
        nodeVersion: "18.14.0"
        distPath: /out
        buildCommand: "yarn install && yarn nx build company"
    endpoints:
      - port: 8080
        routes:
          - v1-jobis-company-stag.dsmhs.kr
  - name: v1-fe-student-prod
    github:
      owner: Team-return
      repo: JOBIS-DSM-STUDENT-FE
      branch: main
      installationId: "82814703"
      hash: c6aed7a453d8925307b9e4b5d1e7f1984a196c4f
    build:
      nextjs-export:
        nodeVersion: "18.17.1"
        distPath: /out
        buildCommand: "yarn install && yarn build"
    endpoints:
      - port: 8080
        routes:
          - v1-jobis.dsmhs.kr
  - name: v1-fe-admin-prod
    github:
      owner: Team-return
      repo: JOBIS-DSM-ADMIN-FE
      branch: main
      installationId: "82814703"
      hash: 630d6895e88113288054be036d97d99f05105ac6
    build:
      react:
        nodeVersion: "18.17.1"
        distPath: /build
        buildCommand: "npm install && npm run build"
    endpoints:
      - port: 8080
        routes:
          - v1-jobis-admin.dsmhs.kr
  - name: v1-fe-company-prod
    github:
      owner: Team-return
      repo: JOBIS-FE
      branch: main
      installationId: "82814703"
    build:
      nextjs-export:
        nodeVersion: "18.14.0"
        distPath: /out
        buildCommand: "yarn install && yarn nx build company"
    endpoints:
      - port: 8080
        routes:
          - v1-jobis-company.dsmhs.kr
  - name: fe-webview-prod
    github:
      owner: Team-return
      repo: JOBIS-WEBVIEW
      branch: main
      installationId: "82814703"
    build:
      vite:
        nodeVersion: "23.11.0"
        distPath: /dist
        buildCommand: "yarn install && yarn build"
    endpoints:
      - port: 8080
        routes:
          - jobis-webview.dsmhs.kr
  - name: fe-webview-stag
    github:
      owner: Team-return
      repo: JOBIS-WEBVIEW
      branch: develop
      installationId: "82814703"
      hash: 64607063e87f17c3cb5b6d4652e31934cf4f386d
    build:
      vite:
        nodeVersion: "23.11.0"
        distPath: /dist
        buildCommand: "yarn install && yarn build"
    endpoints:
      - port: 8080
        routes:
          - jobis-webview-stag.dsmhs.kr
addons:
  - name: jobis-redis
    type: redis
    storage: 1Gi
  - name: prod-mysql
    type: mysql
    storage: 1Gi
  - name: stag-mysql
    type: mysql
    storage: 1Gi
