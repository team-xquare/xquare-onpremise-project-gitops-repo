applications:
  - name: osj-be-prod
    github:
      owner: OSJ-v3
      repo: OSJ_V3_BE
      branch: main
      installationId: "99866813"
      hash: 6b3483cb80c1690852c0bccf08a0e83d8b3bc25a
    build:
      gradle:
        javaVersion: "17"
        jarOutputPath: /build/libs/*.jar
        buildCommand: "./gradlew bootJar -x test"
    endpoints:
      - port: 8080
        routes:
          - osj.dsmhs.kr
  - name: osj-be-stag
    github:
      owner: OSJ-v3
      repo: OSJ_V3_BE
      branch: develop
      installationId: "99866813"
      hash: f334b7f8f26440980d1c0038edafcbf98267695c
    build:
      gradle:
        javaVersion: "17"
        jarOutputPath: /build/libs/*.jar
        buildCommand: "./gradlew bootJar -x test"
    endpoints:
      - port: 8080
        routes:
          - osj-stag.dsmhs.kr
addons:
  - name: osj-prod-mysql
    type: mysql
    storage: 1Gi
  - name: osj-stag-mysql
    type: mysql
    storage: 1Gi
